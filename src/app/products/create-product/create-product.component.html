<div class="body mt-5 pt-2">
    <mat-card>
      <mat-card-content>
        <form class="form" [formGroup]="productForm" (ngSubmit)="OnFormSubmit()">
          <h2 class="title mt-3">Add Product</h2>
          <p class="err">{{errMsg}}</p>

          <div class="row">
            <div class="col-6">
              <mat-form-field>
                <mat-label>Product Name</mat-label>
                <input matInput type="text" formControlName="ProductName">
                <mat-error *ngIf="productForm.get('ProductName').errors?.['required']">*Product Name is Required</mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Description</mat-label>
                <input matInput type="text" formControlName="ProductDescription">
                <mat-error *ngIf="productForm.get('ProductDescription').errors?.['required']">*Description is Required</mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Price</mat-label>
                <input matInput type="number" formControlName="Price" min="1">
                <mat-error *ngIf="productForm.get('Price').errors?.['required']">*Price is Required</mat-error>
                <mat-error *ngIf="productForm.get('Price').hasError('min') && productForm.get('Price').dirty">*Price must be greater than 0</mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Buckle Number</mat-label>
                <input matInput type="text" formControlName="BuckleNumber" minlength="6">
                <mat-error *ngIf="productForm.get('BuckleNumber').errors?.['required']">*Buckle Number is Required</mat-error>
                <mat-error *ngIf="productForm.get('BuckleNumber').hasError('minlength') && productForm.get('BuckleNumber').dirty">*Buckle Number must be atleast 6 digits</mat-error>
              </mat-form-field>
              <mat-form-field>
                <mat-label>Quantity</mat-label>
                <input matInput type="number" formControlName="Quantity" min="1">
                <mat-error *ngIf="productForm.get('Quantity').errors?.['required']">*Quantity is Required</mat-error>
                <mat-error *ngIf="productForm.get('Quantity').hasError('min') && productForm.get('Quantity').dirty">*Quantity must be greater than 0</mat-error>
              </mat-form-field>
            </div>

            <div class="col-6">

              <mat-form-field>
                <mat-label>Select Category</mat-label>
                <mat-select formControlName="CategoryId">
                    <mat-option *ngFor="let cat of catResponse" [value]="cat.CategoryId">{{cat.CategoryName}}</mat-option>
                </mat-select>
                <mat-error *ngIf="productForm.get('CategoryId').errors?.['required']">*Please select a category</mat-error>
              </mat-form-field>

              <!-- <input matInput readonly [value]="productForm.get('Image').value ? extractFilename(productForm.get('Image').value) : ''"> -->

              <mat-form-field>
                <ngx-mat-file-input type="file" class="file" formControlName="Image" accept="image/*">
                </ngx-mat-file-input>
                <mat-error *ngIf="productForm.get('Image').errors?.['required']">*Image is Required</mat-error>
              </mat-form-field>

              <mat-form-field>
                <mat-label>Manufactured At</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="ManifacturedAt">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <mat-error *ngIf="productForm.get('ManifacturedAt').hasError('required')">Manufacture Date is required</mat-error>
              </mat-form-field>

              <mat-form-field>
                <mat-label>Expires At</mat-label>
                <input matInput [matDatepicker]="picker1" formControlName="ExpireAt">
                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
                <mat-error *ngIf="productForm.get('ExpireAt').hasError('required')">Expire Date is required</mat-error>
              </mat-form-field>
              
              <button class="btn" mat-raised-button color="primary" type="submit" class="form-control mb-3 mt-1">{{ isEditMode ? 'Update' : 'Submit' }}</button>  

            </div>
          </div>

        </form>
      </mat-card-content>
    </mat-card>
  </div>
  <footer><br><br>
    <div class="row" style="margin-left: 100px;">
        <div class="col-6">
          <p>The Grocery Mart</p>
          <a href="/about-us" target="_blank" style="color: white;">About Us</a><br>
          <a href="/privacy-policy" target="_blank" style="color: white;">Privacy Policy</a><br>
          <a href="/terms-and-conditions" target="_blank" style="color: white;">Terms and Conditions</a><br><br><br>
          <p>Copyright &#169; {{ currentYear }} Supermarket Grocery Supplies Pvt Ltd</p><br><br>
        </div>
        <div class="col-6">
            <p>Help</p>
            <a href="/FAQS" target="_blank" style="color: white;">FAQs</a><br>
            <a href="/contact-us" target="_blank" style="color: white;">Contact US</a><br><br>
            <button (click)="facebook('https://www.facebook.com')" style="border: none; background-color: black; color: white;"> <mat-icon>facebook</mat-icon></button>
            <button (click)="facebook('https://mail.google.com/')" style="border: none; background-color: black; color: white;"> <mat-icon>email</mat-icon></button>
        </div>
    </div>
    <div style="margin-left: 1200px;margin-top: -250px; margin-bottom: 180px;">
      <img src="https://i.postimg.cc/7YtPVfBv/grocery-7404621-640-removebg-preview.png" width="60">
      <span class="ms-1">The Gr<span style="color: #2B4CA0;">oce</span>ry Mart</span>
      </div>
      </footer>
