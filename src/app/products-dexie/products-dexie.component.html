<div class="m-5">
    <div class="pt-5">
        <button (click)="openDialog('add')" mat-raised-button color="primary">
            <mat-icon>add</mat-icon>
            Add Product
        </button>
    </div>

    <h1 class="pb-4 text-center">List of Products</h1>

    <div class="d-flex mb-3 search mx-auto">
        <input type="text" #search (input)="onSearch(search.value)" placeholder="Search product" class="searchInput form-control mt-0 mb-4 shadow-none"><mat-icon class="search-icon">search</mat-icon>
    </div>

    <div class="table mt-0">
        <table mat-table [dataSource]="dataSource" class="table-content mat-elevation-z8 mx-auto w-md-100">

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Product Name </th>
                <td mat-cell *matCellDef="let product">{{ product.name }}</td>
            </ng-container>

            <ng-container matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef> Price </th>
                <td mat-cell *matCellDef="let product">{{ product.price | currency: 'INR' }}</td>
            </ng-container>

            <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef> Quantity </th>
                <td mat-cell *matCellDef="let product">{{ product.quantity }}</td>
            </ng-container>

            <ng-container matColumnDef="manufacturedAt">
                <th mat-header-cell *matHeaderCellDef> Manufactured Date </th>
                <td mat-cell *matCellDef="let product">{{ product.manufacturedAt }}</td>
            </ng-container>

            <ng-container matColumnDef="expireAt">
                <th mat-header-cell *matHeaderCellDef> Expiry Date </th>
                <td mat-cell *matCellDef="let product">{{ product.ExpireAt }}</td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let product">
                    <mat-icon class="me-3" matTooltip="Edit product" (click)="openDialog('edit', product.id)" style="cursor: pointer;">edit</mat-icon>
                    <mat-icon matTooltip="Delete product" color="warn" (click)="deleteProduct(product.id)" style="cursor: pointer;">delete</mat-icon> 
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayColumns" class="header" style="height: 4.1rem;"></tr>
            <tr mat-row *matRowDef="let row; columns: displayColumns;" style="height: 4.1rem;"></tr>

        </table>
    </div>

</div>